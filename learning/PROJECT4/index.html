<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="js/index.js"></script>
    <link rel="shortcut icon" type="image/jpg" href="../servermc.png">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css" integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l" crossorigin="anonymous">
    <style>
    mainimg img {
    border-radius: 50%;
    width: 7%;
    border-color: linear-gradient(to right top, #65dfc9, #6cdbeb);
    }
    </style>
    <meta charset="utf-8">
    <title>LearningJS | AVMC</title>
</head>
<body>
    <!-- FIREBASE SCRIPT STARTS HERE -->
    <!-- The core Firebase JS SDK is always required and must be listed first -->
    <script src="https://www.gstatic.com/firebasejs/8.2.10/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.2.10/firebase-database.js"></script>
    <!-- TODO: Add SDKs for Firebase products that you want to use
         https://firebase.google.com/docs/web/setup#available-libraries -->
    <script src="https://www.gstatic.com/firebasejs/8.2.10/firebase-analytics.js"></script>

    <script>
      // Your web app's Firebase configuration
      // For Firebase JS SDK v7.20.0 and later, measurementId is optional
      var firebaseConfig = {
        apiKey: "AIzaSyB7QazH81gD8dizjims1ct6cvyCCNUlBtA",
        authDomain: "avmc-firebase-js.firebaseapp.com",
        databaseURL: "https://avmc-firebase-js-default-rtdb.firebaseio.com",
        projectId: "avmc-firebase-js",
        storageBucket: "avmc-firebase-js.appspot.com",
        messagingSenderId: "720714743160",
        appId: "1:720714743160:web:ce159ae194cc9bcce91c8d",
        measurementId: "G-G5Z92DSN0T"
      };
      // Initialize Firebase
      firebase.initializeApp(firebaseConfig);
      firebase.analytics();
    </script>
    <!-- FIREBASE SCRIPT ENDS HERE -->
    <div class="container"><br>
    <mainimg>
    <img src="../servermc.png" class="rounded-full mr-4">
    </mainimg>
    <br>
    <br>
    <h3><u><b>Task 7:</b> Pull and Insert Data in Firebase</Table></u> <span class="badge bg-secondary">On Work! 
    <img src="../clock.gif"/ width="25"> </span> <br>
    <a href="../">Go Back to LearningJS!</a>
    </h3>
    </div>
    <hr>
    <!-- Project Starts Here -->
    <div class="container">
        <h5><b>Subtask 1:</b> Learn to Connect and Fetch Data from Database <span class="badge badge-primary">Done!</span></h5>
        <h5><b>Subtask 1:</b> Get and Show Data from an Object Created on the Database <span class="badge badge-primary">Done!</span></h5>
    <!-- Value -->
    <pre id="object"></pre>
    <script>
      // Get Element
      const preObject = document.getElementById('object');
      const ulList = document.getElementById('list');

      // Create References
      let dbRefObject = firebase.database().ref().child('object');
      let dbRefList = dbRefObject.child('hobbies');

      // Sync Object Changes
      dbRefObject.on('value', snap => {
          preObject.innerText = JSON.stringify(snap.val(), null, 3);
      });

      // Sync List Changes
      dbRefList.on('child_added', snap => {
          
        const li = document.createElement('li');
        li.innerText = snap.val();
        ulList.appendChild(li);

      })
    </script>
    
    <!-- Child -->
    <ul id="list">
        
    </ul>
    
    </div>
    <!-- Project Ends Here -->
<!-- Script Ends Here! -->    
</body>
</html>   